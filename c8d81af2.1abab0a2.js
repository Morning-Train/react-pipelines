(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{88:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return c})),t.d(n,"toc",(function(){return l})),t.d(n,"default",(function(){return s}));var o=t(3),i=t(7),a=(t(0),t(92)),r={title:"About",slug:"/"},c={unversionedId:"introduction/about",id:"introduction/about",isDocsHomePage:!1,title:"About",description:"This section will introduce the why and how about the React Pipelines package.",source:"@site/docs/introduction/about.md",slug:"/",permalink:"/",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/introduction/about.md",version:"current",sidebar:"someSidebar",next:{title:"Installation",permalink:"/introduction/installation"}},l=[{value:"Why React Pipelines?",id:"why-react-pipelines",children:[{value:"How it could be done using spaghetti",id:"how-it-could-be-done-using-spaghetti",children:[]},{value:"The declarative approach",id:"the-declarative-approach",children:[]}]},{value:"How does it work?",id:"how-does-it-work",children:[]}],p={toc:l};function s(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"This section will introduce the why and how about the React Pipelines package. "),Object(a.b)("p",null,"It will provide a look into the reasoning why the package is needed,\nand a brief overview of how it is implemented."),Object(a.b)("h2",{id:"why-react-pipelines"},"Why React Pipelines?"),Object(a.b)("p",null,"React is hard to learn but even harder to master.\nThis is especially the case when it comes to making React code that has a clean structure and is easy to maintain."),Object(a.b)("p",null,"This is an opinionated React package that follows a declarative and decoupled approach\nto making React components more maintainable.\nThe package helps the developer achieve this by being a utility package\nthat helps to create and decouple complex flows of business logic."),Object(a.b)("p",null,"Let us try to illustrate the case by showing some code samples for two different approaches."),Object(a.b)("h3",{id:"how-it-could-be-done-using-spaghetti"},"How it could be done using spaghetti"),Object(a.b)("p",null,"This is a very crude example to illustrate a point.\nEach section of the promise could still be extracted into helper functions to make them more reusable."),Object(a.b)("p",null,"It does however increase the risk of introducing bugs when having to implement the Promise chain manually in every component."),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-javascript"}),'import React from "react";\n\nexport default MySpaghettiFunctionalComponent() {\n    \n    const handleOnClick = () => {\n        \n        Promise.resolve({})\n            .then((payload) => {\n                {/* Custom pipe containing business logic */}\n                return payload;\n            })\n            .then((payload) => {\n                {/* Custom pipe containing business logic */}\n                return payload;\n            })\n            .then((payload) => {\n                {/* Custom pipe containing business logic */}\n                return payload;\n            })\n            .then((payload) => {\n                {/* Custom pipe containing business logic */}\n                return payload;\n            })\n            .then((payload) => {\n                console.log(payload);\n                return payload;\n            })\n        \n    }\n    \n    return (\n        <button onClick={handleOnClick}>CLICK ME</button>\n    );\n}\n')),Object(a.b)("h3",{id:"the-declarative-approach"},"The declarative approach"),Object(a.b)("p",null,"A higher degree of decoupling between React components is encouraged by aiming\nat keeping project-level React components free from complex non-JSX code."),Object(a.b)("p",null,"Instead of implementing the logic inside the component like in the spaghetti example above,\nthe following example is how it can be done using pure JSX."),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),'import React from "react";\nimport {\n    Pipeline, \n    TriggerPipelineOnClick, \n    CallbackOnPipe\n} from "@morningtrain/react-pipelines";\n\nexport default MyDeclarativeFunctionalComponent() {\n    return (\n        <Pipeline>\n            <TriggerPipelineOnClick>\n                <button>CLICK ME</button>\n            </TriggerPipelineOnClick>\n            {/* Custom pipe containing business logic */}\n            {/* Custom pipe containing business logic */}\n            {/* Custom pipe containing business logic */}\n            {/* Custom pipe containing business logic */}\n            <CallbackOnPipe callback={payload => console.log(payload)} />\n        </Pipeline>\n    );\n}\n')),Object(a.b)("p",null,"The logic executed in each step of the promise will in this case have to be implemented as ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"../cookbook/custom-pipes"}),"custom pipes"),"."),Object(a.b)("h2",{id:"how-does-it-work"},"How does it work?"),Object(a.b)("p",null,"At its core - it is all about JavaScript Promises. "),Object(a.b)("p",null,"A ",Object(a.b)("inlineCode",{parentName:"p"},"pipe")," is a Promise-resolvable function (it should return a promise but might also return the payload directly)."),Object(a.b)("p",null,"The ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"../components/async-pipeline"}),"AsyncPipeline")," implements ",Object(a.b)("inlineCode",{parentName:"p"},"Promise.all")," to resolve all pipes asynchronously\nwhile the generic ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"../components/pipeline"}),"Pipeline")," component chains ",Object(a.b)("inlineCode",{parentName:"p"},"Promise.then")," calls synchronously."))}s.isMDXComponent=!0},92:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return h}));var o=t(0),i=t.n(o);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=i.a.createContext({}),s=function(e){var n=i.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},u=function(e){var n=s(e.components);return i.a.createElement(p.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},d=i.a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,r=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(t),d=o,h=u["".concat(r,".").concat(d)]||u[d]||b[d]||a;return t?i.a.createElement(h,c(c({ref:n},p),{},{components:t})):i.a.createElement(h,c({ref:n},p))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,r=new Array(a);r[0]=d;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,r[1]=c;for(var p=2;p<a;p++)r[p]=t[p];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);