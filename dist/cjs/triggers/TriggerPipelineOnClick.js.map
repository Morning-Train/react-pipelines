{"version":3,"file":"TriggerPipelineOnClick.js","sources":["../../../src/triggers/TriggerPipelineOnClick.js"],"sourcesContent":["import React from 'react';\nimport usePipeline from '../hooks/use-pipeline';\nimport useIsPiping from '../hooks/use-is-piping';\n\nfunction TriggerPipelineOnClick({ children }) {\n  const pipeline = usePipeline();\n  const isPiping = useIsPiping();\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    e.persist();\n\n    const payload = {\n      clickEvent: e,\n    };\n\n    pipeline.trigger(payload)\n      .catch((err) => console.log('caught error', err));\n  };\n\n  return (\n    <>\n      {React.Children.map(children, (child) => (\n        React.cloneElement(child, { onClick: (e) => handleClick(e), disabled: isPiping })\n      ))}\n    </>\n  );\n}\n\nexport default TriggerPipelineOnClick;\n"],"names":["TriggerPipelineOnClick","children","pipeline","usePipeline","isPiping","useIsPiping","handleClick","e","preventDefault","stopPropagation","persist","payload","clickEvent","trigger","catch","err","console","log","React","Children","map","child","cloneElement","onClick","disabled"],"mappings":";;;;;;;;;;AAIA,SAASA,sBAAT,OAA8C;AAAA,MAAZC,QAAY,QAAZA,QAAY;AAC5C,MAAMC,QAAQ,GAAGC,WAAW,EAA5B;AACA,MAAMC,QAAQ,GAAGC,WAAW,EAA5B;;AAEA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAO;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACAD,IAAAA,CAAC,CAACE,eAAF;AACAF,IAAAA,CAAC,CAACG,OAAF;AAEA,QAAMC,OAAO,GAAG;AACdC,MAAAA,UAAU,EAAEL;AADE,KAAhB;AAIAL,IAAAA,QAAQ,CAACW,OAAT,CAAiBF,OAAjB,EACGG,KADH,CACS,UAACC,GAAD;AAAA,aAASC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,GAA5B,CAAT;AAAA,KADT;AAED,GAXD;;AAaA,sBACEG,kFACGA,yBAAK,CAACC,QAAN,CAAeC,GAAf,CAAmBnB,QAAnB,EAA6B,UAACoB,KAAD;AAAA,wBAC5BH,yBAAK,CAACI,YAAN,CAAmBD,KAAnB,EAA0B;AAAEE,MAAAA,OAAO,EAAE,iBAAChB,CAAD;AAAA,eAAOD,WAAW,CAACC,CAAD,CAAlB;AAAA,OAAX;AAAkCiB,MAAAA,QAAQ,EAAEpB;AAA5C,KAA1B,CAD4B;AAAA,GAA7B,CADH,CADF;AAOD;;;;"}