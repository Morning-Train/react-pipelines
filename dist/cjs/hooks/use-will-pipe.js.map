{"version":3,"file":"use-will-pipe.js","sources":["../../../src/hooks/use-will-pipe.js"],"sourcesContent":["import React from 'react'\nimport uniqueId from 'lodash/uniqueId'\nimport usePipeline from './use-pipeline'\n\nexport default function useWillPipe (callback, dependencies = []) {\n  const pipeline = usePipeline()\n\n  const uuidRef = React.useRef(uniqueId('pipe_'))\n\n  React.useEffect(() => {\n\n    if(!pipeline) {\n      return\n    }\n\n    const disposer = pipeline.pipe(uuidRef.current, callback)\n\n    return () => {\n      disposer()\n    }\n  }, [pipeline, ...dependencies])\n}\n"],"names":["useWillPipe","callback","dependencies","pipeline","usePipeline","uuidRef","React","useRef","uniqueId","useEffect","disposer","pipe","current","_toConsumableArray"],"mappings":";;;;;;;;;;;;;AAIe,SAASA,WAAT,CAAsBC,QAAtB,EAAmD;AAAA,EAAnBC,IAAAA,YAAmB,uEAAJ,EAAI,CAAA;AAChE,EAAMC,IAAAA,QAAQ,GAAGC,WAAW,EAA5B,CAAA;AAEA,EAAMC,IAAAA,OAAO,GAAGC,yBAAK,CAACC,MAAN,CAAaC,4BAAQ,CAAC,OAAD,CAArB,CAAhB,CAAA;AAEAF,EAAAA,yBAAK,CAACG,SAAN,CAAgB,YAAM;AAEpB,IAAG,IAAA,CAACN,QAAJ,EAAc;AACZ,MAAA,OAAA;AACD,KAAA;;AAED,IAAMO,IAAAA,QAAQ,GAAGP,QAAQ,CAACQ,IAAT,CAAcN,OAAO,CAACO,OAAtB,EAA+BX,QAA/B,CAAjB,CAAA;AAEA,IAAA,OAAO,YAAM;AACXS,MAAAA,QAAQ,EAAA,CAAA;AACT,KAFD,CAAA;AAGD,GAXD,EAAA,CAWIP,QAXJ,CAAA,CAAA,MAAA,CAAAU,sCAAA,CAWiBX,YAXjB,CAAA,CAAA,CAAA,CAAA;AAYD;;;;"}