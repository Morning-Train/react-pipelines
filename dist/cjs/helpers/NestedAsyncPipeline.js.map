{"version":3,"file":"NestedAsyncPipeline.js","sources":["../../../src/helpers/NestedAsyncPipeline.js"],"sourcesContent":["import React from 'react';\nimport useWillPipe from '../hooks/use-will-pipe';\nimport AsyncPipeline from './AsyncPipeline';\nimport TriggerPipelineOnCallback from '../triggers/TriggerPipelineOnCallback';\n\nexport default function NestedAsyncPipeline({ children }) {\n  const callbackRef = React.useRef(null);\n\n  const updateCallbackRef = (callback) => {\n    callbackRef.current = callback;\n  };\n\n  useWillPipe(() => {\n    if (callbackRef.current && typeof callbackRef.current === 'function') {\n      callbackRef.current();\n    }\n  });\n\n  return (\n    <AsyncPipeline>\n      <TriggerPipelineOnCallback callback={updateCallbackRef} />\n      {children}\n    </AsyncPipeline>\n  );\n}\n"],"names":["NestedAsyncPipeline","children","callbackRef","React","useRef","updateCallbackRef","callback","current","useWillPipe"],"mappings":";;;;;;;;;;;AAKe,SAASA,mBAAT,OAA2C;AAAA,MAAZC,QAAY,QAAZA,QAAY;AACxD,MAAMC,WAAW,GAAGC,yBAAK,CAACC,MAAN,CAAa,IAAb,CAApB;;AAEA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,QAAD,EAAc;AACtCJ,IAAAA,WAAW,CAACK,OAAZ,GAAsBD,QAAtB;AACD,GAFD;;AAIAE,EAAAA,WAAW,CAAC,YAAM;AAChB,QAAIN,WAAW,CAACK,OAAZ,IAAuB,OAAOL,WAAW,CAACK,OAAnB,KAA+B,UAA1D,EAAsE;AACpEL,MAAAA,WAAW,CAACK,OAAZ;AACD;AACF,GAJU,CAAX;AAMA,sBACEJ,wCAAC,aAAD,qBACEA,wCAAC,yBAAD;AAA2B,IAAA,QAAQ,EAAEE;AAArC,IADF,EAEGJ,QAFH,CADF;AAMD;;;;"}