{"version":3,"file":"CallbackOnPipe.js","sources":["../../../src/pipes/CallbackOnPipe.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport useWillPipe from '../hooks/use-will-pipe'\n\nfunction CallbackOnPipe ({ callback }) {\n  useWillPipe((payload) => new Promise((resolve, reject) => {\n    Promise.resolve(callback(payload))\n      .then((p = {}) => {\n        resolve({ ...payload, ...p })\n      })\n      .catch((err) => {\n        reject(err)\n      })\n  }), [callback])\n\n  return null\n}\n\nCallbackOnPipe.propTypes = {\n  callback: PropTypes.func.isRequired\n}\n\nexport default CallbackOnPipe\n"],"names":["CallbackOnPipe","callback","useWillPipe","payload","Promise","resolve","reject","then","p","catch","err","propTypes","PropTypes","func","isRequired"],"mappings":";;;;;;;;;AAIA,SAASA,cAAT,CAAuC,IAAA,EAAA;AAAA,EAAZC,IAAAA,QAAY,QAAZA,QAAY,CAAA;AACrCC,EAAAA,WAAW,CAAC,UAACC,OAAD,EAAA;AAAA,IAAA,OAAa,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACxDF,MAAAA,OAAO,CAACC,OAAR,CAAgBJ,QAAQ,CAACE,OAAD,CAAxB,CAAA,CACGI,IADH,CACQ,YAAY;AAAA,QAAXC,IAAAA,CAAW,uEAAP,EAAO,CAAA;AAChBH,QAAAA,OAAO,CAAA,aAAA,CAAA,aAAA,CAAA,EAAA,EAAMF,OAAN,CAAA,EAAkBK,CAAlB,CAAP,CAAA,CAAA;AACD,OAHH,CAIGC,CAAAA,KAJH,CAIS,UAACC,GAAD,EAAS;AACdJ,QAAAA,MAAM,CAACI,GAAD,CAAN,CAAA;AACD,OANH,CAAA,CAAA;AAOD,KARwB,CAAb,CAAA;AAAA,GAAD,EAQP,CAACT,QAAD,CARO,CAAX,CAAA;AAUA,EAAA,OAAO,IAAP,CAAA;AACD,CAAA;;AAEDD,cAAc,CAACW,SAAf,GAA2B;AACzBV,EAAAA,QAAQ,EAAEW,SAAS,CAACC,IAAV,CAAeC,UAAAA;AADA,CAA3B;;;;"}