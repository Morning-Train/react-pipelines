{"version":3,"file":"CallbackOnPipe.js","sources":["../../../src/pipes/CallbackOnPipe.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport useWillPipe from '../hooks/use-will-pipe';\n\nfunction CallbackOnPipe({ callback }) {\n  useWillPipe((payload) => new Promise((resolve, reject) => {\n    Promise.resolve(callback(payload))\n      .then((p = {}) => {\n        resolve({ ...payload, ...p });\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  }), [callback]);\n\n  return null;\n}\n\nCallbackOnPipe.propTypes = {\n  callback: PropTypes.func.isRequired,\n};\n\nexport default CallbackOnPipe;\n"],"names":["CallbackOnPipe","callback","useWillPipe","payload","Promise","resolve","reject","then","p","catch","err","propTypes","PropTypes","func","isRequired"],"mappings":";;;;;AAIA,SAASA,cAAT,OAAsC;AAAA,MAAZC,QAAY,QAAZA,QAAY;AACpCC,EAAAA,WAAW,CAAC,UAACC,OAAD;AAAA,WAAa,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACxDF,MAAAA,OAAO,CAACC,OAAR,CAAgBJ,QAAQ,CAACE,OAAD,CAAxB,EACGI,IADH,CACQ,YAAY;AAAA,YAAXC,CAAW,uEAAP,EAAO;AAChBH,QAAAA,OAAO,mCAAMF,OAAN,GAAkBK,CAAlB,EAAP;AACD,OAHH,EAIGC,KAJH,CAIS,UAACC,GAAD,EAAS;AACdJ,QAAAA,MAAM,CAACI,GAAD,CAAN;AACD,OANH;AAOD,KARwB,CAAb;AAAA,GAAD,EAQP,CAACT,QAAD,CARO,CAAX;AAUA,SAAO,IAAP;AACD;;AAEDD,cAAc,CAACW,SAAf,GAA2B;AACzBV,EAAAA,QAAQ,EAAEW,SAAS,CAACC,IAAV,CAAeC;AADA,CAA3B;;;;"}