{"version":3,"file":"use-event-listeners.js","sources":["../../../src/hooks/use-event-listeners.js"],"sourcesContent":["import React from 'react'\n\nexport default function useEventListeners () {\n  const callbacks_ref = React.useRef([])\n  const callbacks = callbacks_ref.current\n\n  const trigger = function () {\n    if (callbacks.length > 0) {\n      callbacks.forEach((callback, index) => {\n        callback.apply(this, Array.prototype.slice.call(arguments, 0))\n      })\n    }\n  }\n\n  const removeEventListener = (callback) => {\n    if (callbacks.length > 0) {\n      callbacks.forEach((_callback, index) => {\n        if (callbacks[index] === callback) {\n          delete callbacks[index]\n        }\n      })\n    }\n  }\n\n  const addEventListener = (callback) => {\n    callbacks.push(callback)\n\n    const disposer = () => {\n      removeEventListener(callback)\n    }\n\n    return disposer\n  }\n\n  return [trigger, addEventListener, removeEventListener]\n}\n"],"names":["useEventListeners","callbacks_ref","React","useRef","callbacks","current","trigger","length","forEach","callback","index","apply","Array","prototype","slice","call","arguments","removeEventListener","_callback","addEventListener","push","disposer"],"mappings":";;AAEe,SAASA,iBAAT,GAA8B;AAC3C,MAAMC,aAAa,GAAGC,KAAK,CAACC,MAAN,CAAa,EAAb,CAAtB;AACA,MAAMC,SAAS,GAAGH,aAAa,CAACI,OAAhC;;AAEA,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAY;AAAA;AAAA;;AAC1B,QAAIF,SAAS,CAACG,MAAV,GAAmB,CAAvB,EAA0B;AACxBH,MAAAA,SAAS,CAACI,OAAV,CAAkB,UAACC,QAAD,EAAWC,KAAX,EAAqB;AACrCD,QAAAA,QAAQ,CAACE,KAAT,CAAe,KAAf,EAAqBC,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,UAA3B,EAAsC,CAAtC,CAArB;AACD,OAFD;AAGD;AACF,GAND;;AAQA,MAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACR,QAAD,EAAc;AACxC,QAAIL,SAAS,CAACG,MAAV,GAAmB,CAAvB,EAA0B;AACxBH,MAAAA,SAAS,CAACI,OAAV,CAAkB,UAACU,SAAD,EAAYR,KAAZ,EAAsB;AACtC,YAAIN,SAAS,CAACM,KAAD,CAAT,KAAqBD,QAAzB,EAAmC;AACjC,iBAAOL,SAAS,CAACM,KAAD,CAAhB;AACD;AACF,OAJD;AAKD;AACF,GARD;;AAUA,MAAMS,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACV,QAAD,EAAc;AACrCL,IAAAA,SAAS,CAACgB,IAAV,CAAeX,QAAf;;AAEA,QAAMY,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrBJ,MAAAA,mBAAmB,CAACR,QAAD,CAAnB;AACD,KAFD;;AAIA,WAAOY,QAAP;AACD,GARD;;AAUA,SAAO,CAACf,OAAD,EAAUa,gBAAV,EAA4BF,mBAA5B,CAAP;AACD;;;;"}