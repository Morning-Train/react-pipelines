{"version":3,"file":"sequentialPipelineTrigger.js","sources":["../../../src/utilities/sequentialPipelineTrigger.js"],"sourcesContent":["export default function sequentialPipelineTrigger (pipesOrder, pipes) {\n  return (payload = {}) => new Promise((resolve, reject) => {\n    let promise = Promise.resolve(payload)\n\n    if (pipesOrder.length > 0) {\n      pipesOrder.forEach((pipeUuid) => {\n        promise = promise.then((p) => {\n          const pipe = pipes[pipeUuid]\n          return (typeof (pipe) === 'function') ? pipe(p) : pipe\n        })\n      })\n    }\n\n    promise\n      .then((p) => {\n        resolve(p)\n      })\n      .catch((err) => {\n        reject(err)\n      })\n  })\n}\n"],"names":["sequentialPipelineTrigger","pipesOrder","pipes","payload","Promise","resolve","reject","promise","length","forEach","pipeUuid","then","p","pipe","catch","err"],"mappings":"AAAe,SAASA,yBAAT,CAAoCC,UAApC,EAAgDC,KAAhD,EAAuD;AACpE,EAAO,OAAA,YAAA;AAAA,IAACC,IAAAA,OAAD,uEAAW,EAAX,CAAA;AAAA,IAAA,OAAkB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACxD,MAAA,IAAIC,OAAO,GAAGH,OAAO,CAACC,OAAR,CAAgBF,OAAhB,CAAd,CAAA;;AAEA,MAAA,IAAIF,UAAU,CAACO,MAAX,GAAoB,CAAxB,EAA2B;AACzBP,QAAAA,UAAU,CAACQ,OAAX,CAAmB,UAACC,QAAD,EAAc;AAC/BH,UAAAA,OAAO,GAAGA,OAAO,CAACI,IAAR,CAAa,UAACC,CAAD,EAAO;AAC5B,YAAA,IAAMC,IAAI,GAAGX,KAAK,CAACQ,QAAD,CAAlB,CAAA;AACA,YAAQ,OAAA,OAAQG,IAAR,KAAkB,UAAnB,GAAiCA,IAAI,CAACD,CAAD,CAArC,GAA2CC,IAAlD,CAAA;AACD,WAHS,CAAV,CAAA;AAID,SALD,CAAA,CAAA;AAMD,OAAA;;AAEDN,MAAAA,OAAO,CACJI,IADH,CACQ,UAACC,CAAD,EAAO;AACXP,QAAAA,OAAO,CAACO,CAAD,CAAP,CAAA;AACD,OAHH,CAIGE,CAAAA,KAJH,CAIS,UAACC,GAAD,EAAS;AACdT,QAAAA,MAAM,CAACS,GAAD,CAAN,CAAA;AACD,OANH,CAAA,CAAA;AAOD,KAnBwB,CAAlB,CAAA;AAAA,GAAP,CAAA;AAoBD;;;;"}