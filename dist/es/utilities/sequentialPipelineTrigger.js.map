{"version":3,"file":"sequentialPipelineTrigger.js","sources":["../../../src/utilities/sequentialPipelineTrigger.js"],"sourcesContent":["export default function sequentialPipelineTrigger (pipesOrder, pipes) {\n  return (payload = {}) => new Promise((resolve, reject) => {\n    let promise = Promise.resolve(payload)\n\n    if (pipesOrder.length > 0) {\n      pipesOrder.forEach((pipeUuid) => {\n        promise = promise.then((p) => {\n          const pipe = pipes[pipeUuid]\n          return (typeof (pipe) === 'function') ? pipe(p) : pipe\n        })\n      })\n    }\n\n    promise\n      .then((p) => {\n        resolve(p)\n      })\n      .catch((err) => {\n        reject(err)\n      })\n  })\n}\n"],"names":["sequentialPipelineTrigger","pipesOrder","pipes","payload","Promise","resolve","reject","promise","length","forEach","pipeUuid","then","p","pipe","catch","err"],"mappings":"AAAe,SAASA,yBAAT,CAAoCC,UAApC,EAAgDC,KAAhD,EAAuD;AACpE,SAAO;AAAA,QAACC,OAAD,uEAAW,EAAX;AAAA,WAAkB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACxD,UAAIC,OAAO,GAAGH,OAAO,CAACC,OAAR,CAAgBF,OAAhB,CAAd;;AAEA,UAAIF,UAAU,CAACO,MAAX,GAAoB,CAAxB,EAA2B;AACzBP,QAAAA,UAAU,CAACQ,OAAX,CAAmB,UAACC,QAAD,EAAc;AAC/BH,UAAAA,OAAO,GAAGA,OAAO,CAACI,IAAR,CAAa,UAACC,CAAD,EAAO;AAC5B,gBAAMC,IAAI,GAAGX,KAAK,CAACQ,QAAD,CAAlB;AACA,mBAAQ,OAAQG,IAAR,KAAkB,UAAnB,GAAiCA,IAAI,CAACD,CAAD,CAArC,GAA2CC,IAAlD;AACD,WAHS,CAAV;AAID,SALD;AAMD;;AAEDN,MAAAA,OAAO,CACJI,IADH,CACQ,UAACC,CAAD,EAAO;AACXP,QAAAA,OAAO,CAACO,CAAD,CAAP;AACD,OAHH,EAIGE,KAJH,CAIS,UAACC,GAAD,EAAS;AACdT,QAAAA,MAAM,CAACS,GAAD,CAAN;AACD,OANH;AAOD,KAnBwB,CAAlB;AAAA,GAAP;AAoBD;;;;"}