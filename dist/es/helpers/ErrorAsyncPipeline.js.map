{"version":3,"file":"ErrorAsyncPipeline.js","sources":["../../../src/helpers/ErrorAsyncPipeline.js"],"sourcesContent":["import React from 'react'\r\nimport AsyncPipeline from './AsyncPipeline'\r\nimport TriggerPipelineOnCallback from '../triggers/TriggerPipelineOnCallback'\r\nimport useOnPipelineError from '../hooks/use-on-pipeline-error'\r\n\r\nexport default function ErrorAsyncPipeline ({ children }) {\r\n  const callbackRef = React.useRef(null)\r\n\r\n  const updateCallbackRef = (callback) => {\r\n    callbackRef.current = callback\r\n  }\r\n\r\n  useOnPipelineError((error) => {\r\n    callbackRef.current({ error: error })\r\n  })\r\n\r\n  return (\r\n    <AsyncPipeline>\r\n      <TriggerPipelineOnCallback callback={updateCallbackRef} />\r\n      {children}\r\n    </AsyncPipeline>\r\n  )\r\n}\r\n"],"names":["ErrorAsyncPipeline","children","callbackRef","React","useRef","updateCallbackRef","callback","current","useOnPipelineError","error"],"mappings":";;;;;AAKe,SAASA,kBAAT,CAA2C,IAAA,EAAA;AAAA,EAAZC,IAAAA,QAAY,QAAZA,QAAY,CAAA;AACxD,EAAA,IAAMC,WAAW,GAAGC,KAAK,CAACC,MAAN,CAAa,IAAb,CAApB,CAAA;;AAEA,EAAA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,QAAD,EAAc;AACtCJ,IAAAA,WAAW,CAACK,OAAZ,GAAsBD,QAAtB,CAAA;AACD,GAFD,CAAA;;AAIAE,EAAAA,kBAAkB,CAAC,UAACC,KAAD,EAAW;AAC5BP,IAAAA,WAAW,CAACK,OAAZ,CAAoB;AAAEE,MAAAA,KAAK,EAAEA,KAAAA;AAAT,KAApB,CAAA,CAAA;AACD,GAFiB,CAAlB,CAAA;AAIA,EAAA,oBACE,KAAC,CAAA,aAAA,CAAA,aAAD,EACE,IAAA,eAAA,KAAA,CAAA,aAAA,CAAC,yBAAD,EAAA;AAA2B,IAAA,QAAQ,EAAEJ,iBAAAA;AAArC,GADF,CAAA,EAEGJ,QAFH,CADF,CAAA;AAMD;;;;"}