(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{64:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return c})),t.d(n,"toc",(function(){return p})),t.d(n,"default",(function(){return s}));var i=t(3),a=t(7),o=(t(0),t(96)),r={title:"Introduction",slug:"/"},c={unversionedId:"getting_started/introduction",id:"getting_started/introduction",isDocsHomePage:!1,title:"Introduction",description:"This is an opinionated React package that follows a declarative and decoupled approach",source:"@site/docs/getting_started/introduction.md",slug:"/",permalink:"/",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/getting_started/introduction.md",version:"current",sidebar:"someSidebar",next:{title:"Installation",permalink:"/getting_started/installation"}},p=[{value:"What does the package contain?",id:"what-does-the-package-contain",children:[{value:"Getting started",id:"getting-started",children:[]},{value:"Pipelines",id:"pipelines",children:[]},{value:"Pipes",id:"pipes",children:[]},{value:"Triggers",id:"triggers",children:[]},{value:"Conditionals",id:"conditionals",children:[]},{value:"Hooks",id:"hooks",children:[]},{value:"Cookbook",id:"cookbook",children:[]}]},{value:"Why React Pipelines?",id:"why-react-pipelines",children:[{value:"How it could be done using spaghetti",id:"how-it-could-be-done-using-spaghetti",children:[]},{value:"The declarative approach",id:"the-declarative-approach",children:[]}]},{value:"How does it work?",id:"how-does-it-work",children:[]}],l={toc:p};function s(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(i.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"This is an opinionated React package that follows a declarative and decoupled approach\nto making React components more maintainable.\nThe package helps the developer achieve this by being a utility package\nthat helps to create and decouple complex flows of business logic."),Object(o.b)("p",null,"In short - this package is a collection of React components and hooks\nthat enables decoupling business logic into smaller resuable tasks."),Object(o.b)("p",null,"This is accomplished by wrapping each self-contained section of the logic of a flow\ninto multiple smaller React components - called a ",Object(o.b)("inlineCode",{parentName:"p"},"pipe")," in our context."),Object(o.b)("p",null,"The timing of the executing of the pipe logic is then determined by where in our ",Object(o.b)("inlineCode",{parentName:"p"},"pipeline"),"\nthe pipe is rendered. A ",Object(o.b)("inlineCode",{parentName:"p"},"pipeline")," is a React component that wraps and tracks the order of\nany amount of pipes. Whenever a pipeline is triggered to execute,\nall of its pipes are executed in ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../pipelines/pipeline"}),"sequence")," or ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../pipelines/async-pipeline"}),"parallel"),"."),Object(o.b)("p",null,"For some examples inspired by real-life components, take a look at ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"./getting_started/examples"}),"this page"),"."),Object(o.b)("h2",{id:"what-does-the-package-contain"},"What does the package contain?"),Object(o.b)("p",null,"The core ",Object(o.b)("inlineCode",{parentName:"p"},"@morningtrain/react-pipelines")," package only contains a very limited set of\npipes and triggers. If we were to add additional helper components, it would only further increase the package dependencies."),Object(o.b)("p",null,"Instead, we aim to keep the number of components provided in the package to a bare minimum and\nlet other projects and packages implement the more use-case-specific functionality."),Object(o.b)("p",null,"The package is documented through the following sections:"),Object(o.b)("h3",{id:"getting-started"},"Getting started"),Object(o.b)("p",null,"This is the current section. Besides a short introduction, it also contains ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../getting_started/installation"}),"installation details"),",\n",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../getting_started/best-practices"}),"best practices"),", and some common real-life ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../getting_started/examples"}),"examples")," of how the package can be used."),Object(o.b)("h3",{id:"pipelines"},"Pipelines"),Object(o.b)("p",null,"This section highlights the base pipeline components:\n",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../pipelines/pipeline"}),"Pipeline"),", ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../pipelines/async-pipeline"}),"AsyncPipeline"),",\n",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../pipelines/nested-pipeline"}),"NestedPipeline"),", and ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../pipelines/nested-async-pipeline"}),"NestedAsyncPipeline"),"."),Object(o.b)("h3",{id:"pipes"},"Pipes"),Object(o.b)("p",null,"The section about pipes contains details about the following base pipes provided by the package:\n",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../pipes/callback-on-pipe"}),"CallbackOnPipe"),"."),Object(o.b)("h3",{id:"triggers"},"Triggers"),Object(o.b)("p",null,"The section about triggers contains details about the following base triggers provided by the package:\n",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../triggers/trigger-pipeline-on-click"}),"TriggerPipelineOnClick"),"\nand ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../triggers/trigger-pipeline-on-callback"}),"TriggerPipelineOnCallback"),"."),Object(o.b)("h3",{id:"conditionals"},"Conditionals"),Object(o.b)("p",null,"This section contains information about the two conditional components provided by the package:\n",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../conditionals/when-is-piping"}),"WhenIsPiping")," and ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../conditionals/when-is-not-piping"}),"WhenIsNotPiping"),"."),Object(o.b)("p",null,"They will conditionally render their children (or not) based on whether or not the parent pipeline is in an executing state or not. "),Object(o.b)("h3",{id:"hooks"},"Hooks"),Object(o.b)("p",null,"The section about hooks contains information about the following provided React custom hooks:\n",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../hooks/use-will-pipe"}),"useWillPipe"),", ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../hooks/use-is-piping"}),"useIsPiping"),", and ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../hooks/use-pipeline"}),"usePipeline")),Object(o.b)("h3",{id:"cookbook"},"Cookbook"),Object(o.b)("p",null,"The cookbook section contains extra information and examples of how to implement some common use-cases."),Object(o.b)("h2",{id:"why-react-pipelines"},"Why React Pipelines?"),Object(o.b)("p",null,"This section will introduce the why and how about the React Pipelines package."),Object(o.b)("p",null,"It will provide a look into the reasoning why the package is needed,\nand a brief overview of how it is implemented."),Object(o.b)("p",null,"React is hard to learn but even harder to master.\nThis is especially the case when it comes to making React code that has a clean structure and is easy to maintain."),Object(o.b)("p",null,"Let us try to illustrate the case by showing some code samples for two different approaches."),Object(o.b)("h3",{id:"how-it-could-be-done-using-spaghetti"},"How it could be done using spaghetti"),Object(o.b)("p",null,"This is a very crude example to illustrate a point.\nEach section of the promise could still be extracted into helper functions to make them more reusable."),Object(o.b)("p",null,"It does however increase the risk of introducing bugs when having to implement the Promise chain manually in every component."),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{className:"language-javascript"}),'import React from "react";\n\nexport default MySpaghettiFunctionalComponent() {\n    \n    const handleOnClick = () => {\n        \n        Promise.resolve({})\n            .then((payload) => {\n                {/* Custom pipe containing business logic */}\n                return payload;\n            })\n            .then((payload) => {\n                {/* Custom pipe containing business logic */}\n                return payload;\n            })\n            .then((payload) => {\n                {/* Custom pipe containing business logic */}\n                return payload;\n            })\n            .then((payload) => {\n                {/* Custom pipe containing business logic */}\n                return payload;\n            })\n            .then((payload) => {\n                console.log(payload);\n                return payload;\n            })\n        \n    }\n    \n    return (\n        <button onClick={handleOnClick}>CLICK ME</button>\n    );\n}\n')),Object(o.b)("h3",{id:"the-declarative-approach"},"The declarative approach"),Object(o.b)("p",null,"A higher degree of decoupling between React components is encouraged by aiming\nat keeping project-level React components free from complex non-JSX code."),Object(o.b)("p",null,"Instead of implementing the logic inside the component like in the spaghetti example above,\nthe following example is how it can be done using pure JSX."),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{className:"language-jsx"}),'import React from "react";\nimport {\n    Pipeline, \n    TriggerPipelineOnClick, \n    CallbackOnPipe\n} from "@morningtrain/react-pipelines";\n\nexport default MyDeclarativeFunctionalComponent() {\n    return (\n        <Pipeline>\n            <TriggerPipelineOnClick>\n                <button>CLICK ME</button>\n            </TriggerPipelineOnClick>\n            {/* Custom pipe containing business logic */}\n            {/* Custom pipe containing business logic */}\n            {/* Custom pipe containing business logic */}\n            {/* Custom pipe containing business logic */}\n            <CallbackOnPipe callback={payload => console.log(payload)} />\n        </Pipeline>\n    );\n}\n')),Object(o.b)("p",null,"The logic executed in each step of the promise will in this case have to be implemented as ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../cookbook/custom-pipes"}),"custom pipes"),"."),Object(o.b)("h2",{id:"how-does-it-work"},"How does it work?"),Object(o.b)("p",null,"At its core - it is all about JavaScript Promises. "),Object(o.b)("p",null,"A ",Object(o.b)("inlineCode",{parentName:"p"},"pipe")," is a Promise-resolvable function (it should return a promise but might also return the payload directly)."),Object(o.b)("p",null,"The ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../pipelines/async-pipeline"}),"AsyncPipeline")," implements ",Object(o.b)("inlineCode",{parentName:"p"},"Promise.all")," to resolve all pipes asynchronously\nwhile the generic ",Object(o.b)("a",Object(i.a)({parentName:"p"},{href:"../pipelines/pipeline"}),"Pipeline")," component chains ",Object(o.b)("inlineCode",{parentName:"p"},"Promise.then")," calls synchronously."))}s.isMDXComponent=!0},96:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return h}));var i=t(0),a=t.n(i);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=a.a.createContext({}),s=function(e){var n=a.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},b=function(e){var n=s(e.components);return a.a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},u=a.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,r=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),b=s(t),u=i,h=b["".concat(r,".").concat(u)]||b[u]||d[u]||o;return t?a.a.createElement(h,c(c({ref:n},l),{},{components:t})):a.a.createElement(h,c({ref:n},l))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=u;var c={};for(var p in n)hasOwnProperty.call(n,p)&&(c[p]=n[p]);c.originalType=e,c.mdxType="string"==typeof e?e:i,r[1]=c;for(var l=2;l<o;l++)r[l]=t[l];return a.a.createElement.apply(null,r)}return a.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);